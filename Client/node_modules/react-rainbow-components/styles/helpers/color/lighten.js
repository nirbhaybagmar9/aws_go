"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = lighten;

var _index = require("./index");

var _clamp = _interopRequireDefault(require("./clamp"));

/* eslint-disable no-param-reassign */
function lighten(color) {
  var coefficient = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.8;
  color = (0, _index.decomposeColor)(color);
  coefficient = (0, _clamp["default"])(coefficient);

  if (color.type.indexOf('hsl') !== -1) {
    color.values[2] += (100 - color.values[2]) * coefficient;
    color.values[2] = Math.floor(color.values[2]);
  } else if (color.type.indexOf('rgb') !== -1) {
    for (var i = 0; i < 3; i += 1) {
      color.values[i] += (255 - color.values[i]) * coefficient;
      color.values[i] = Math.floor(color.values[i]);
    }
  }

  return (0, _index.recomposeColor)(color);
}