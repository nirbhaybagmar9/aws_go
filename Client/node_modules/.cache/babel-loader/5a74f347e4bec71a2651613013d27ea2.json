{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _constants = require(\"../../libs/constants\");\n\nvar _context = require(\"./context\");\n\nvar _content = _interopRequireDefault(require(\"./content\"));\n\nvar _isChildRegistered = _interopRequireDefault(require(\"./helpers/isChildRegistered\"));\n\nvar _getChildMenuItemNodes = _interopRequireDefault(require(\"./helpers/getChildMenuItemNodes\"));\n\nvar _insertChildOrderly = _interopRequireDefault(require(\"./helpers/insertChildOrderly\"));\n\nvar _isScrollPositionAtMenuBottom = _interopRequireDefault(require(\"./helpers/isScrollPositionAtMenuBottom\"));\n\nvar _isOptionVisible = _interopRequireDefault(require(\"./helpers/isOptionVisible\"));\n\nvar _scrollTo = _interopRequireDefault(require(\"./helpers/scrollTo\"));\n\nvar _searchFilter = _interopRequireDefault(require(\"./helpers/searchFilter\"));\n\nvar _getValueNames = _interopRequireDefault(require(\"./helpers/getValueNames\"));\n\nvar _isEmptyObject = _interopRequireDefault(require(\"./helpers/isEmptyObject\"));\n\nvar _emptyMessage = _interopRequireDefault(require(\"./emptyMessage\"));\n\nvar _styled = require(\"./styled\");\n\nvar _preventDefaultKeys;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar sizeMap = {\n  medium: 227\n};\nvar preventDefaultKeys = (_preventDefaultKeys = {}, (0, _defineProperty2[\"default\"])(_preventDefaultKeys, _constants.UP_KEY, true), (0, _defineProperty2[\"default\"])(_preventDefaultKeys, _constants.DOWN_KEY, true), _preventDefaultKeys);\nvar menuContainerStyles = {\n  maxHeight: sizeMap.medium\n};\n/**\n * @category Internal\n */\n\nvar InternalDropdown = (0, _react.forwardRef)(function (props, reference) {\n  var _keyHandlerMap;\n\n  var isLoading = props.isLoading,\n      children = props.children,\n      value = props.value,\n      onChange = props.onChange,\n      enableSearch = props.enableSearch,\n      id = props.id,\n      className = props.className,\n      style = props.style,\n      multiple = props.multiple;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      showScrollUpArrow = _useState2[0],\n      setShowScrollUpArrow = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n      showScrollDownArrow = _useState4[0],\n      setShowScrollDownArrow = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray2[\"default\"])(_useState5, 2),\n      activeOptionName = _useState6[0],\n      setActiveOptionName = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(0),\n      _useState8 = (0, _slicedToArray2[\"default\"])(_useState7, 2),\n      activeOptionIndex = _useState8[0],\n      setActiveOptionIndex = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(),\n      _useState10 = (0, _slicedToArray2[\"default\"])(_useState9, 2),\n      activeChildrenMap = _useState10[0],\n      setActiveChildrenMap = _useState10[1];\n\n  var _useState11 = (0, _react.useState)(''),\n      _useState12 = (0, _slicedToArray2[\"default\"])(_useState11, 2),\n      searchValue = _useState12[0],\n      setSearchValue = _useState12[1];\n\n  var activeChildren = (0, _react.useRef)([]);\n  var allActiveChildren = (0, _react.useRef)();\n  var firstChild = (0, _react.useRef)();\n  var menuRef = (0, _react.useRef)();\n  var containerRef = (0, _react.useRef)();\n  var scrollingTimer = (0, _react.useRef)();\n  var searchRef = (0, _react.useRef)();\n  var showEmptyMessage = (0, _isEmptyObject[\"default\"])(activeChildrenMap);\n  (0, _react.useImperativeHandle)(reference, function () {\n    return {\n      focus: function focus() {\n        if (enableSearch) {\n          return searchRef.current.focus();\n        }\n\n        return containerRef.current.focus();\n      }\n    };\n  });\n\n  var updateScrollingArrows = function updateScrollingArrows() {\n    var menu = menuRef.current;\n    setShowScrollUpArrow(menu.scrollTop > 0);\n    setShowScrollDownArrow(!(0, _isScrollPositionAtMenuBottom[\"default\"])(menu));\n  };\n\n  var scrollBy = function scrollBy(offset) {\n    menuRef.current.scrollBy(0, offset);\n  };\n\n  (0, _react.useEffect)(function () {\n    (0, _scrollTo[\"default\"])(menuRef, 0);\n    updateScrollingArrows();\n  }, []);\n  var registerChild = (0, _react.useCallback)(function (childRef, childProps) {\n    if ((0, _isChildRegistered[\"default\"])(childProps.name, activeChildren.current)) return;\n\n    if (!firstChild.current) {\n      firstChild.current = childProps;\n      setActiveOptionName(childProps.name);\n    }\n\n    var _getChildMenuItemNode = (0, _getChildMenuItemNodes[\"default\"])(containerRef.current),\n        _getChildMenuItemNode2 = (0, _toArray2[\"default\"])(_getChildMenuItemNode),\n        nodes = _getChildMenuItemNode2.slice(0);\n\n    var newChildren = (0, _insertChildOrderly[\"default\"])(activeChildren.current, _objectSpread({\n      ref: childRef\n    }, childProps), nodes);\n    activeChildren.current = newChildren;\n  }, []);\n  var unregisterChild = (0, _react.useCallback)(function (childRef, name) {\n    if (!(0, _isChildRegistered[\"default\"])(name, activeChildren.current)) return;\n    var newChildren = activeChildren.current.filter(function (child) {\n      return child.name !== name;\n    });\n    activeChildren.current = newChildren;\n  }, []);\n  var hoverChild = (0, _react.useCallback)(function (event, name) {\n    setActiveOptionName(name);\n    setActiveOptionIndex(activeChildren.current.findIndex(function (child) {\n      return child.name === name;\n    }));\n  }, []);\n\n  var stopArrowScoll = function stopArrowScoll() {\n    if (scrollingTimer.current) clearInterval(scrollingTimer.current);\n  };\n\n  var handleScrollUpArrowHover = function handleScrollUpArrowHover() {\n    stopArrowScoll();\n    var menu = menuRef.current;\n    scrollingTimer.current = setInterval(function () {\n      if (menu.scrollTop > 0) {\n        menu.scrollBy(0, -1);\n      } else {\n        stopArrowScoll();\n      }\n    }, 5);\n  };\n\n  var handleScrollDownArrowHover = function handleScrollDownArrowHover() {\n    stopArrowScoll();\n    var menu = menuRef.current;\n    scrollingTimer.current = setInterval(function () {\n      if (!(0, _isScrollPositionAtMenuBottom[\"default\"])(menu)) {\n        menu.scrollBy(0, 1);\n      } else {\n        stopArrowScoll();\n      }\n    }, 5);\n  };\n\n  var scrollToOption = function scrollToOption(nextFocusedIndex) {\n    var currentFocusedOptionRef = activeChildren.current[activeOptionIndex].ref;\n    var nextFocusedOptionRef = activeChildren.current[nextFocusedIndex].ref;\n\n    if (!(0, _isOptionVisible[\"default\"])(nextFocusedOptionRef, menuRef.current)) {\n      var amount = nextFocusedOptionRef.offsetTop - currentFocusedOptionRef.offsetTop;\n      scrollBy(amount);\n    }\n  };\n\n  var handleChange = (0, _react.useCallback)(function (option) {\n    var name = option.name;\n\n    if (multiple) {\n      if (Array.isArray(value)) {\n        if (value.some(function (v) {\n          return v.name === name;\n        })) {\n          return null;\n        }\n\n        return onChange(value.concat([option]));\n      }\n\n      if (value) {\n        return onChange([value, option]);\n      }\n\n      return onChange([option]);\n    }\n\n    return onChange(option);\n  }, [multiple, value, onChange]);\n\n  var handleKeyUpPressed = function handleKeyUpPressed() {\n    var nextActiveIndex = (activeChildren.current.length + activeOptionIndex - 1) % activeChildren.current.length;\n\n    if (nextActiveIndex < activeOptionIndex) {\n      if (nextActiveIndex === 0) {\n        (0, _scrollTo[\"default\"])(menuRef, 0);\n      } else {\n        scrollToOption(nextActiveIndex);\n      }\n\n      setActiveOptionIndex(nextActiveIndex);\n      setActiveOptionName(activeChildren.current[nextActiveIndex].name);\n    }\n  };\n\n  var handleKeyDownPressed = function handleKeyDownPressed() {\n    var nextActiveIndex = (activeOptionIndex + 1) % activeChildren.current.length;\n\n    if (nextActiveIndex > 0) {\n      scrollToOption(nextActiveIndex);\n      setActiveOptionIndex(nextActiveIndex);\n      setActiveOptionName(activeChildren.current[nextActiveIndex].name);\n    }\n  };\n\n  var handleKeyEnterPressed = function handleKeyEnterPressed() {\n    var _activeChildren$curre = activeChildren.current[activeOptionIndex],\n        ref = _activeChildren$curre.ref,\n        rest = (0, _objectWithoutProperties2[\"default\"])(_activeChildren$curre, [\"ref\"]);\n    return handleChange(rest);\n  };\n\n  var keyHandlerMap = (_keyHandlerMap = {}, (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.UP_KEY, handleKeyUpPressed), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.DOWN_KEY, handleKeyDownPressed), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.ENTER_KEY, handleKeyEnterPressed), _keyHandlerMap);\n\n  var handleKeyPressed = function handleKeyPressed(event) {\n    if (event.keyCode === _constants.SPACE_KEY && !enableSearch) {\n      event.preventDefault();\n    }\n\n    if (preventDefaultKeys[event.keyCode]) event.preventDefault();\n\n    if (keyHandlerMap[event.keyCode]) {\n      keyHandlerMap[event.keyCode]();\n    }\n  };\n\n  var handleSearch = function handleSearch(event) {\n    if (!allActiveChildren.current) {\n      allActiveChildren.current = (0, _toConsumableArray2[\"default\"])(activeChildren.current);\n    }\n\n    var filteredOptions = (0, _searchFilter[\"default\"])({\n      query: event.target.value,\n      data: allActiveChildren.current\n    });\n    setSearchValue(event.target.value);\n    setActiveChildrenMap(filteredOptions.reduce(function (acc, option) {\n      acc[option.name] = true;\n      return acc;\n    }, {}));\n    setActiveOptionIndex(0);\n    var firstActiveChild = activeChildren.current[0];\n\n    if (firstActiveChild) {\n      setActiveOptionName(firstActiveChild.name);\n    }\n\n    setTimeout(function () {\n      return updateScrollingArrows();\n    }, 0);\n  };\n\n  var context = (0, _react.useMemo)(function () {\n    var currentValues = (0, _getValueNames[\"default\"])(value);\n    return {\n      privateOnClick: function privateOnClick(event, option) {\n        return handleChange(option);\n      },\n      privateRegisterChild: registerChild,\n      privateUnregisterChild: unregisterChild,\n      privateOnHover: hoverChild,\n      activeOptionName: activeOptionName,\n      currentValues: currentValues,\n      activeChildrenMap: activeChildrenMap\n    };\n  }, [value, registerChild, unregisterChild, hoverChild, activeOptionName, activeChildrenMap, handleChange]);\n  return _react[\"default\"].createElement(_styled.Dropdown, {\n    id: id,\n    role: \"listbox\",\n    isLoading: isLoading,\n    className: className,\n    style: style,\n    onKeyDown: handleKeyPressed,\n    tabIndex: \"-1\",\n    ref: containerRef\n  }, _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: enableSearch\n  }, _react[\"default\"].createElement(_styled.SearchContainer, null, _react[\"default\"].createElement(_styled.Icon, null), _react[\"default\"].createElement(_styled.InputSearch, {\n    onChange: handleSearch,\n    ref: searchRef,\n    type: \"search\"\n  }))), _react[\"default\"].createElement(_styled.UlContainer, null, _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: showScrollUpArrow\n  }, _react[\"default\"].createElement(_styled.Arrow, {\n    \"data-id\": \"internal-dropdown-arrow-up\",\n    direction: \"up\",\n    onMouseEnter: handleScrollUpArrowHover,\n    onMouseLeave: stopArrowScoll\n  })), _react[\"default\"].createElement(_styled.Ul, {\n    role: \"presentation\",\n    onScroll: updateScrollingArrows,\n    ref: menuRef,\n    style: menuContainerStyles,\n    showEmptyMessage: showEmptyMessage\n  }, _react[\"default\"].createElement(_content[\"default\"], {\n    isLoading: isLoading\n  }, _react[\"default\"].createElement(_context.Provider, {\n    value: context\n  }, children))), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: showEmptyMessage\n  }, _react[\"default\"].createElement(_emptyMessage[\"default\"], {\n    searchValue: searchValue\n  })), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: showScrollDownArrow\n  }, _react[\"default\"].createElement(_styled.Arrow, {\n    \"data-id\": \"internal-dropdown-arrow-down\",\n    direction: \"down\",\n    onMouseEnter: handleScrollDownArrowHover,\n    onMouseLeave: stopArrowScoll\n  }))));\n});\nInternalDropdown.propTypes = {\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** If is set to true, then is showed a loading symbol. */\n  isLoading: _propTypes[\"default\"].bool,\n\n  /** The content of the InternalDropdown. Used to render the options\n   * passed. */\n  children: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].arrayOf(_propTypes[\"default\"].node), _propTypes[\"default\"].object]),\n\n  /** Specifies the selected value of the InternalDropdown. Must have a name which identifies de selected option.\n   * Also it can have whatever other key value pairs you want.\n   */\n  value: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].shape({\n    name: _propTypes[\"default\"].string\n  }), _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].shape({\n    name: _propTypes[\"default\"].string\n  }))]),\n\n  /** The action triggered when click/select an option. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** If is set to true, then a search input to filter is showed. */\n  enableSearch: _propTypes[\"default\"].bool,\n\n  /** Specifies that multiple items can be selected */\n  multiple: _propTypes[\"default\"].bool\n};\nInternalDropdown.defaultProps = {\n  id: undefined,\n  className: undefined,\n  style: undefined,\n  isLoading: false,\n  children: null,\n  value: undefined,\n  onChange: function onChange() {},\n  enableSearch: false,\n  multiple: false\n};\nvar _default = InternalDropdown;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/home/sharad_bagmar/Nutanix/aws_go/node_modules/react-rainbow-components/components/InternalDropdown/index.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","_toConsumableArray2","_objectWithoutProperties2","_toArray2","_slicedToArray2","_defineProperty2","_react","_propTypes","_RenderIf","_constants","_context","_content","_isChildRegistered","_getChildMenuItemNodes","_insertChildOrderly","_isScrollPositionAtMenuBottom","_isOptionVisible","_scrollTo","_searchFilter","_getValueNames","_isEmptyObject","_emptyMessage","_styled","_preventDefaultKeys","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","sizeMap","medium","preventDefaultKeys","UP_KEY","DOWN_KEY","menuContainerStyles","maxHeight","InternalDropdown","forwardRef","props","reference","_keyHandlerMap","isLoading","children","onChange","enableSearch","id","className","style","multiple","_useState","useState","_useState2","showScrollUpArrow","setShowScrollUpArrow","_useState3","_useState4","showScrollDownArrow","setShowScrollDownArrow","_useState5","_useState6","activeOptionName","setActiveOptionName","_useState7","_useState8","activeOptionIndex","setActiveOptionIndex","_useState9","_useState10","activeChildrenMap","setActiveChildrenMap","_useState11","_useState12","searchValue","setSearchValue","activeChildren","useRef","allActiveChildren","firstChild","menuRef","containerRef","scrollingTimer","searchRef","showEmptyMessage","useImperativeHandle","focus","current","updateScrollingArrows","menu","scrollTop","scrollBy","offset","useEffect","registerChild","useCallback","childRef","childProps","name","_getChildMenuItemNode","_getChildMenuItemNode2","nodes","slice","newChildren","ref","unregisterChild","child","hoverChild","event","findIndex","stopArrowScoll","clearInterval","handleScrollUpArrowHover","setInterval","handleScrollDownArrowHover","scrollToOption","nextFocusedIndex","currentFocusedOptionRef","nextFocusedOptionRef","amount","offsetTop","handleChange","option","Array","isArray","some","v","concat","handleKeyUpPressed","nextActiveIndex","handleKeyDownPressed","handleKeyEnterPressed","_activeChildren$curre","rest","keyHandlerMap","ENTER_KEY","handleKeyPressed","keyCode","SPACE_KEY","preventDefault","handleSearch","filteredOptions","query","data","reduce","acc","firstActiveChild","setTimeout","context","useMemo","currentValues","privateOnClick","privateRegisterChild","privateUnregisterChild","privateOnHover","createElement","Dropdown","role","onKeyDown","tabIndex","isTrue","SearchContainer","Icon","InputSearch","type","UlContainer","Arrow","direction","onMouseEnter","onMouseLeave","Ul","onScroll","Provider","propTypes","string","bool","oneOfType","arrayOf","node","shape","func","defaultProps","undefined","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _constants = require(\"../../libs/constants\");\n\nvar _context = require(\"./context\");\n\nvar _content = _interopRequireDefault(require(\"./content\"));\n\nvar _isChildRegistered = _interopRequireDefault(require(\"./helpers/isChildRegistered\"));\n\nvar _getChildMenuItemNodes = _interopRequireDefault(require(\"./helpers/getChildMenuItemNodes\"));\n\nvar _insertChildOrderly = _interopRequireDefault(require(\"./helpers/insertChildOrderly\"));\n\nvar _isScrollPositionAtMenuBottom = _interopRequireDefault(require(\"./helpers/isScrollPositionAtMenuBottom\"));\n\nvar _isOptionVisible = _interopRequireDefault(require(\"./helpers/isOptionVisible\"));\n\nvar _scrollTo = _interopRequireDefault(require(\"./helpers/scrollTo\"));\n\nvar _searchFilter = _interopRequireDefault(require(\"./helpers/searchFilter\"));\n\nvar _getValueNames = _interopRequireDefault(require(\"./helpers/getValueNames\"));\n\nvar _isEmptyObject = _interopRequireDefault(require(\"./helpers/isEmptyObject\"));\n\nvar _emptyMessage = _interopRequireDefault(require(\"./emptyMessage\"));\n\nvar _styled = require(\"./styled\");\n\nvar _preventDefaultKeys;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar sizeMap = {\n  medium: 227\n};\nvar preventDefaultKeys = (_preventDefaultKeys = {}, (0, _defineProperty2[\"default\"])(_preventDefaultKeys, _constants.UP_KEY, true), (0, _defineProperty2[\"default\"])(_preventDefaultKeys, _constants.DOWN_KEY, true), _preventDefaultKeys);\nvar menuContainerStyles = {\n  maxHeight: sizeMap.medium\n};\n/**\n * @category Internal\n */\n\nvar InternalDropdown = (0, _react.forwardRef)(function (props, reference) {\n  var _keyHandlerMap;\n\n  var isLoading = props.isLoading,\n      children = props.children,\n      value = props.value,\n      onChange = props.onChange,\n      enableSearch = props.enableSearch,\n      id = props.id,\n      className = props.className,\n      style = props.style,\n      multiple = props.multiple;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      showScrollUpArrow = _useState2[0],\n      setShowScrollUpArrow = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n      showScrollDownArrow = _useState4[0],\n      setShowScrollDownArrow = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray2[\"default\"])(_useState5, 2),\n      activeOptionName = _useState6[0],\n      setActiveOptionName = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(0),\n      _useState8 = (0, _slicedToArray2[\"default\"])(_useState7, 2),\n      activeOptionIndex = _useState8[0],\n      setActiveOptionIndex = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(),\n      _useState10 = (0, _slicedToArray2[\"default\"])(_useState9, 2),\n      activeChildrenMap = _useState10[0],\n      setActiveChildrenMap = _useState10[1];\n\n  var _useState11 = (0, _react.useState)(''),\n      _useState12 = (0, _slicedToArray2[\"default\"])(_useState11, 2),\n      searchValue = _useState12[0],\n      setSearchValue = _useState12[1];\n\n  var activeChildren = (0, _react.useRef)([]);\n  var allActiveChildren = (0, _react.useRef)();\n  var firstChild = (0, _react.useRef)();\n  var menuRef = (0, _react.useRef)();\n  var containerRef = (0, _react.useRef)();\n  var scrollingTimer = (0, _react.useRef)();\n  var searchRef = (0, _react.useRef)();\n  var showEmptyMessage = (0, _isEmptyObject[\"default\"])(activeChildrenMap);\n  (0, _react.useImperativeHandle)(reference, function () {\n    return {\n      focus: function focus() {\n        if (enableSearch) {\n          return searchRef.current.focus();\n        }\n\n        return containerRef.current.focus();\n      }\n    };\n  });\n\n  var updateScrollingArrows = function updateScrollingArrows() {\n    var menu = menuRef.current;\n    setShowScrollUpArrow(menu.scrollTop > 0);\n    setShowScrollDownArrow(!(0, _isScrollPositionAtMenuBottom[\"default\"])(menu));\n  };\n\n  var scrollBy = function scrollBy(offset) {\n    menuRef.current.scrollBy(0, offset);\n  };\n\n  (0, _react.useEffect)(function () {\n    (0, _scrollTo[\"default\"])(menuRef, 0);\n    updateScrollingArrows();\n  }, []);\n  var registerChild = (0, _react.useCallback)(function (childRef, childProps) {\n    if ((0, _isChildRegistered[\"default\"])(childProps.name, activeChildren.current)) return;\n\n    if (!firstChild.current) {\n      firstChild.current = childProps;\n      setActiveOptionName(childProps.name);\n    }\n\n    var _getChildMenuItemNode = (0, _getChildMenuItemNodes[\"default\"])(containerRef.current),\n        _getChildMenuItemNode2 = (0, _toArray2[\"default\"])(_getChildMenuItemNode),\n        nodes = _getChildMenuItemNode2.slice(0);\n\n    var newChildren = (0, _insertChildOrderly[\"default\"])(activeChildren.current, _objectSpread({\n      ref: childRef\n    }, childProps), nodes);\n    activeChildren.current = newChildren;\n  }, []);\n  var unregisterChild = (0, _react.useCallback)(function (childRef, name) {\n    if (!(0, _isChildRegistered[\"default\"])(name, activeChildren.current)) return;\n    var newChildren = activeChildren.current.filter(function (child) {\n      return child.name !== name;\n    });\n    activeChildren.current = newChildren;\n  }, []);\n  var hoverChild = (0, _react.useCallback)(function (event, name) {\n    setActiveOptionName(name);\n    setActiveOptionIndex(activeChildren.current.findIndex(function (child) {\n      return child.name === name;\n    }));\n  }, []);\n\n  var stopArrowScoll = function stopArrowScoll() {\n    if (scrollingTimer.current) clearInterval(scrollingTimer.current);\n  };\n\n  var handleScrollUpArrowHover = function handleScrollUpArrowHover() {\n    stopArrowScoll();\n    var menu = menuRef.current;\n    scrollingTimer.current = setInterval(function () {\n      if (menu.scrollTop > 0) {\n        menu.scrollBy(0, -1);\n      } else {\n        stopArrowScoll();\n      }\n    }, 5);\n  };\n\n  var handleScrollDownArrowHover = function handleScrollDownArrowHover() {\n    stopArrowScoll();\n    var menu = menuRef.current;\n    scrollingTimer.current = setInterval(function () {\n      if (!(0, _isScrollPositionAtMenuBottom[\"default\"])(menu)) {\n        menu.scrollBy(0, 1);\n      } else {\n        stopArrowScoll();\n      }\n    }, 5);\n  };\n\n  var scrollToOption = function scrollToOption(nextFocusedIndex) {\n    var currentFocusedOptionRef = activeChildren.current[activeOptionIndex].ref;\n    var nextFocusedOptionRef = activeChildren.current[nextFocusedIndex].ref;\n\n    if (!(0, _isOptionVisible[\"default\"])(nextFocusedOptionRef, menuRef.current)) {\n      var amount = nextFocusedOptionRef.offsetTop - currentFocusedOptionRef.offsetTop;\n      scrollBy(amount);\n    }\n  };\n\n  var handleChange = (0, _react.useCallback)(function (option) {\n    var name = option.name;\n\n    if (multiple) {\n      if (Array.isArray(value)) {\n        if (value.some(function (v) {\n          return v.name === name;\n        })) {\n          return null;\n        }\n\n        return onChange(value.concat([option]));\n      }\n\n      if (value) {\n        return onChange([value, option]);\n      }\n\n      return onChange([option]);\n    }\n\n    return onChange(option);\n  }, [multiple, value, onChange]);\n\n  var handleKeyUpPressed = function handleKeyUpPressed() {\n    var nextActiveIndex = (activeChildren.current.length + activeOptionIndex - 1) % activeChildren.current.length;\n\n    if (nextActiveIndex < activeOptionIndex) {\n      if (nextActiveIndex === 0) {\n        (0, _scrollTo[\"default\"])(menuRef, 0);\n      } else {\n        scrollToOption(nextActiveIndex);\n      }\n\n      setActiveOptionIndex(nextActiveIndex);\n      setActiveOptionName(activeChildren.current[nextActiveIndex].name);\n    }\n  };\n\n  var handleKeyDownPressed = function handleKeyDownPressed() {\n    var nextActiveIndex = (activeOptionIndex + 1) % activeChildren.current.length;\n\n    if (nextActiveIndex > 0) {\n      scrollToOption(nextActiveIndex);\n      setActiveOptionIndex(nextActiveIndex);\n      setActiveOptionName(activeChildren.current[nextActiveIndex].name);\n    }\n  };\n\n  var handleKeyEnterPressed = function handleKeyEnterPressed() {\n    var _activeChildren$curre = activeChildren.current[activeOptionIndex],\n        ref = _activeChildren$curre.ref,\n        rest = (0, _objectWithoutProperties2[\"default\"])(_activeChildren$curre, [\"ref\"]);\n    return handleChange(rest);\n  };\n\n  var keyHandlerMap = (_keyHandlerMap = {}, (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.UP_KEY, handleKeyUpPressed), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.DOWN_KEY, handleKeyDownPressed), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.ENTER_KEY, handleKeyEnterPressed), _keyHandlerMap);\n\n  var handleKeyPressed = function handleKeyPressed(event) {\n    if (event.keyCode === _constants.SPACE_KEY && !enableSearch) {\n      event.preventDefault();\n    }\n\n    if (preventDefaultKeys[event.keyCode]) event.preventDefault();\n\n    if (keyHandlerMap[event.keyCode]) {\n      keyHandlerMap[event.keyCode]();\n    }\n  };\n\n  var handleSearch = function handleSearch(event) {\n    if (!allActiveChildren.current) {\n      allActiveChildren.current = (0, _toConsumableArray2[\"default\"])(activeChildren.current);\n    }\n\n    var filteredOptions = (0, _searchFilter[\"default\"])({\n      query: event.target.value,\n      data: allActiveChildren.current\n    });\n    setSearchValue(event.target.value);\n    setActiveChildrenMap(filteredOptions.reduce(function (acc, option) {\n      acc[option.name] = true;\n      return acc;\n    }, {}));\n    setActiveOptionIndex(0);\n    var firstActiveChild = activeChildren.current[0];\n\n    if (firstActiveChild) {\n      setActiveOptionName(firstActiveChild.name);\n    }\n\n    setTimeout(function () {\n      return updateScrollingArrows();\n    }, 0);\n  };\n\n  var context = (0, _react.useMemo)(function () {\n    var currentValues = (0, _getValueNames[\"default\"])(value);\n    return {\n      privateOnClick: function privateOnClick(event, option) {\n        return handleChange(option);\n      },\n      privateRegisterChild: registerChild,\n      privateUnregisterChild: unregisterChild,\n      privateOnHover: hoverChild,\n      activeOptionName: activeOptionName,\n      currentValues: currentValues,\n      activeChildrenMap: activeChildrenMap\n    };\n  }, [value, registerChild, unregisterChild, hoverChild, activeOptionName, activeChildrenMap, handleChange]);\n  return _react[\"default\"].createElement(_styled.Dropdown, {\n    id: id,\n    role: \"listbox\",\n    isLoading: isLoading,\n    className: className,\n    style: style,\n    onKeyDown: handleKeyPressed,\n    tabIndex: \"-1\",\n    ref: containerRef\n  }, _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: enableSearch\n  }, _react[\"default\"].createElement(_styled.SearchContainer, null, _react[\"default\"].createElement(_styled.Icon, null), _react[\"default\"].createElement(_styled.InputSearch, {\n    onChange: handleSearch,\n    ref: searchRef,\n    type: \"search\"\n  }))), _react[\"default\"].createElement(_styled.UlContainer, null, _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: showScrollUpArrow\n  }, _react[\"default\"].createElement(_styled.Arrow, {\n    \"data-id\": \"internal-dropdown-arrow-up\",\n    direction: \"up\",\n    onMouseEnter: handleScrollUpArrowHover,\n    onMouseLeave: stopArrowScoll\n  })), _react[\"default\"].createElement(_styled.Ul, {\n    role: \"presentation\",\n    onScroll: updateScrollingArrows,\n    ref: menuRef,\n    style: menuContainerStyles,\n    showEmptyMessage: showEmptyMessage\n  }, _react[\"default\"].createElement(_content[\"default\"], {\n    isLoading: isLoading\n  }, _react[\"default\"].createElement(_context.Provider, {\n    value: context\n  }, children))), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: showEmptyMessage\n  }, _react[\"default\"].createElement(_emptyMessage[\"default\"], {\n    searchValue: searchValue\n  })), _react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: showScrollDownArrow\n  }, _react[\"default\"].createElement(_styled.Arrow, {\n    \"data-id\": \"internal-dropdown-arrow-down\",\n    direction: \"down\",\n    onMouseEnter: handleScrollDownArrowHover,\n    onMouseLeave: stopArrowScoll\n  }))));\n});\nInternalDropdown.propTypes = {\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** If is set to true, then is showed a loading symbol. */\n  isLoading: _propTypes[\"default\"].bool,\n\n  /** The content of the InternalDropdown. Used to render the options\n   * passed. */\n  children: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].arrayOf(_propTypes[\"default\"].node), _propTypes[\"default\"].object]),\n\n  /** Specifies the selected value of the InternalDropdown. Must have a name which identifies de selected option.\n   * Also it can have whatever other key value pairs you want.\n   */\n  value: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].shape({\n    name: _propTypes[\"default\"].string\n  }), _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].shape({\n    name: _propTypes[\"default\"].string\n  }))]),\n\n  /** The action triggered when click/select an option. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** If is set to true, then a search input to filter is showed. */\n  enableSearch: _propTypes[\"default\"].bool,\n\n  /** Specifies that multiple items can be selected */\n  multiple: _propTypes[\"default\"].bool\n};\nInternalDropdown.defaultProps = {\n  id: undefined,\n  className: undefined,\n  style: undefined,\n  isLoading: false,\n  children: null,\n  value: undefined,\n  onChange: function onChange() {},\n  enableSearch: false,\n  multiple: false\n};\nvar _default = InternalDropdown;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}